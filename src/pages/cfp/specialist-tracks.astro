---
import { getCollection } from "astro:content";
import CfpNav from "../../components/cfp/CfpNav.astro";
import SpecialistTrack from "../../components/cfp/SpecialistTrack.astro";
import Footer from "../../components/Footer.astro";
import Crumb from "../../components/header/Crumb.astro";
import HeaderBreadcrumbs from "../../components/header/HeaderBreadcrumbs.astro";
import PageHeader from "../../components/header/PageHeader.astro";
import PageHeaderTitle from "../../components/header/PageHeaderTitle.astro";
import Base from "../../layouts/Base.astro";

const tracks = await getCollection("specialist-tracks");
---

<Base title="Specialist Tracks">
  <PageHeader dark={true} starColour="violet">
    <HeaderBreadcrumbs colour="lemon">
      <Crumb href="/cfp/">Call for Proposals</Crumb>
    </HeaderBreadcrumbs>
    <PageHeaderTitle textColour="lemon">
      <h1>Specialist Tracks</h1>
    </PageHeaderTitle>
  </PageHeader>

  <section>
    <div class="header-divider header-divider--lemon"></div>

    <div class="bg-stone py-20">
      <div class="container">
        <div class="lg:w-[85%] w-full mx-auto">
          <div
            class="flex flex-col lg:flex-row justify-between items-start gap-14"
          >
            <div class="lg:w-[80%] w-full">
              {
                tracks.map(async (track) => {
                  const { Content } = await track.render();
                  return (
                    <SpecialistTrack
                      title={track.data.title}
                      shortDescription={track.data.shortDescription}
                      organisers={track.data.organisers}
                    >
                      <Content />
                    </SpecialistTrack>
                  );
                })
              }
            </div>

            <CfpNav />
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer />

  <script src="/src/scripts/animations.js"></script>
</Base>
